#!/usr/bin/env bash
# manifest-generate-partials - Generate partials manifests
# Usage: manifest-generate-partials <scope>
# Scope: builds or core

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "$SCRIPT_DIR/../../../.." && pwd)"

scope="$1"

if [[ -z "$scope" ]]; then
    echo "Usage: manifest-generate-partials <scope>"
    echo "Scopes: builds, core"
    exit 1
fi

case "$scope" in
    builds)
        echo "Generating builds partials manifest..."
        python3 "$SCRIPT_DIR/manifest-generate-partials.py"
        ;;
    core)
        echo "Generating core partials manifest..."
        python3 "$SCRIPT_DIR/manifest-generate-core-partials.py"
        ;;
    *)
        echo "Error: Unknown scope '$scope'"
        echo "Valid scopes: builds, core"
        exit 1
        ;;
esac
